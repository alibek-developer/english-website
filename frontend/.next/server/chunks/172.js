"use strict";exports.id=172,exports.ids=[172],exports.modules={1214:(e,t,s)=>{s.d(t,{y:()=>a});let a=s(3796).Z.create({baseURL:"https://backend-c28d.onrender.com",withCredentials:!0})},3315:(e,t,s)=>{s.d(t,{P:()=>A});var a=s(7247),i=s(6146),l=s(5403),n=s(8514),r=s(295),d=s(7961),o=s(7350),c=s(8852),m=s(8964),x=s(619),h=s(7889),u=s(677);function p({...e}){return a.jsx(x.fC,{"data-slot":"dialog",...e})}function g({...e}){return a.jsx(x.h_,{"data-slot":"dialog-portal",...e})}function f({className:e,...t}){return a.jsx(x.aV,{"data-slot":"dialog-overlay",className:(0,u.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function j({className:e,children:t,showCloseButton:s=!0,...i}){return(0,a.jsxs)(g,{"data-slot":"dialog-portal",children:[a.jsx(f,{}),(0,a.jsxs)(x.VY,{"data-slot":"dialog-content",className:(0,u.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...i,children:[t,s&&(0,a.jsxs)(x.x8,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(h.Z,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function b({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-header",className:(0,u.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function y({className:e,...t}){return a.jsx(x.Dx,{"data-slot":"dialog-title",className:(0,u.cn)("text-lg leading-none font-semibold",e),...t})}function v({className:e,...t}){return a.jsx(x.dk,{"data-slot":"dialog-description",className:(0,u.cn)("text-muted-foreground text-sm",e),...t})}var N=s(1295),k=s(4193),w=s(4253),z=s(5911),E=s(6345),S=s(8729),C=s(4178);function T({course:e,isOpen:t,onClose:s}){let i;let{language:l}=(0,k.Z)(),n=(0,C.useRouter)(),{toast:r}=(0,N.pm)(),[d,o]=(0,m.useState)(null),x="uz"===l?e.titleUz:e.title,h="uz"===l?e.descriptionUz:e.description,u=[{name:"Click",icon:z.Z},{name:"Payme",icon:z.Z},{name:"Uzcard",icon:E.Z},{name:"Payze",icon:E.Z}],g=(0,w.D)({mutationFn:async e=>{let t=await fetch("https://backend-c28d.onrender.com/api/student/enroll",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Enroll failed");return t.json()},onSuccess:()=>{let t="uz"===l?e.titleUz:e.title;n.push(`/payment-success?course=${encodeURIComponent(t)}`),s()},onError:e=>{console.error(e),r({title:"Xatolik",description:"Kursga yozilishda xatolik yuz berdi.",variant:"destructive"}),n.push("/payment-cancel"),s()}}),f=t=>{o(t),g.mutate({courseId:e.id,paymentMethod:t})};return a.jsx(p,{open:t,onOpenChange:s,children:(0,a.jsxs)(j,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(b,{children:[a.jsx(y,{className:"text-2xl",children:x}),a.jsx(v,{children:h})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"aspect-video bg-gradient-to-br from-sky-100 to-blue-100 rounded-xl overflow-hidden",children:a.jsx("img",{src:e.image,alt:x,className:"w-full h-full object-cover",onError:t=>{t.currentTarget.src=`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='340'%3E%3Crect fill='%23E0F2FE' width='600' height='340'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' fill='%230F172A' font-size='24' font-family='Arial'%3E${e.category}%3C/text%3E%3C/svg%3E`}})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Kurs tafsilotlari:"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-slate-600",children:"Davomiyligi:"}),a.jsx("div",{className:"font-medium",children:e.duration})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-slate-600",children:"Format:"}),a.jsx("div",{className:"font-medium capitalize",children:e.format})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-slate-600",children:"Daraja:"}),a.jsx("div",{className:"font-medium",children:e.level})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-slate-600",children:"Boshlanishi:"}),a.jsx("div",{className:"font-medium",children:new Date(e.startDate).toLocaleDateString("uz-UZ")})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Kursga kiradi:"}),a.jsx("ul",{className:"space-y-2",children:("uz"===l?["Professional o'qituvchilar","Interaktiv darslar","Progress kuzatuvi","Tugatgandan keyin sertifikat"]:["Professional instruction","Interactive lessons","Progress tracking","Certificate upon completion"]).map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[a.jsx(S.Z,{className:"w-5 h-5 text-sky-600 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm text-slate-700",children:e})]},t))})]}),(0,a.jsxs)("div",{className:"border-t pt-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm text-slate-600",children:"Jami narx:"}),a.jsx("div",{className:"text-3xl font-bold text-slate-900",children:(i=e.price,new Intl.NumberFormat("uz-UZ").format(i)+" so'm")})]})}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h3",{className:"font-semibold text-sm mb-3",children:"To'lov usulini tanlang:"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:u.map(e=>(0,a.jsxs)(c.z,{variant:d===e.name?"default":"outline",className:"h-auto py-4 gap-2",onClick:()=>f(e.name),disabled:g.isPending,children:[a.jsx(e.icon,{className:"w-5 h-5"}),e.name]},e.name))})]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center mb-4",children:"\uD83D\uDCB3 To'lovdan so'ng avtomatik ravishda dashboard sahifasiga yo'naltirilasiz"}),a.jsx(c.z,{className:"w-full",size:"lg",onClick:s,variant:"outline",children:"Yopish"})]})]})]})})}function D({isOpen:e,onClose:t,courseTitle:s,schedule:i}){return a.jsx(p,{open:e,onOpenChange:t,children:(0,a.jsxs)(j,{className:"sm:max-w-md bg-white dark:bg-slate-900",children:[(0,a.jsxs)(b,{children:[a.jsx(y,{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Dars jadvali"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:s})]}),a.jsx("div",{className:"space-y-3 pt-4",children:i.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-sky-50 dark:bg-sky-950 rounded-lg border border-sky-100 dark:border-sky-900",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(r.Z,{className:"w-5 h-5 text-sky-600 dark:text-sky-400"}),a.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:e.day})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-slate-700 dark:text-slate-300",children:[a.jsx(l.Z,{className:"w-4 h-4 text-sky-600 dark:text-sky-400"}),a.jsx("span",{className:"font-semibold",children:e.time})]})]},t))}),a.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-950 rounded-lg border border-blue-100 dark:border-blue-900",children:a.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-300",children:"\uD83D\uDCCC Dars vaqti o'zgarishi mumkin. Aniq ma'lumot uchun bog'laning."})})]})})}function A({course:e,index:t}){let s;let[x,h]=(0,m.useState)(!1),[u,p]=(0,m.useState)(!1),{language:g}=(0,k.Z)(),f="uz"===g?e.titleUz:e.title,j="uz"===g?e.descriptionUz:e.description;return"uz"===g?e.featuresUz:e.features,(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1*t},whileHover:{y:-8},className:"bg-white dark:bg-slate-900 rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all border border-slate-200 dark:border-slate-800",children:[a.jsx("div",{className:"aspect-[16/10] bg-gradient-to-br from-sky-100 to-blue-100 overflow-hidden",children:a.jsx("img",{src:e.image,alt:f,className:"w-full h-full object-cover",onError:t=>{t.currentTarget.src=`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='250'%3E%3Crect fill='%23E0F2FE' width='400' height='250'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' fill='%230F172A' font-size='18' font-family='Arial'%3E${e.category}%3C/text%3E%3C/svg%3E`}})}),(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("div",{className:"inline-block px-3 py-1 bg-sky-50 dark:bg-sky-950 text-sky-700 dark:text-sky-400 text-xs font-medium rounded-full mb-3",children:e.category}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:f}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm mb-4 line-clamp-2",children:j}),(0,a.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[a.jsx(l.Z,{className:"w-4 h-4 text-sky-600 dark:text-sky-400"}),a.jsx("span",{children:e.duration})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[a.jsx(n.Z,{className:"w-4 h-4 text-sky-600 dark:text-sky-400"}),a.jsx("span",{className:"capitalize",children:e.format})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[a.jsx(r.Z,{className:"w-4 h-4 text-sky-600 dark:text-sky-400"}),(0,a.jsxs)("span",{children:["Start: ",new Date(e.startDate).toLocaleDateString("uz-UZ")]})]})]}),(0,a.jsxs)(c.z,{variant:"outline",size:"sm",onClick:()=>p(!0),className:"w-full mb-4 gap-2",children:[a.jsx(d.Z,{className:"w-4 h-4"}),"Dars jadvali"]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-slate-100 dark:border-slate-800",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:(s=e.price,new Intl.NumberFormat("uz-UZ").format(s)+" so'm")}),a.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"per course"})]}),(0,a.jsxs)(c.z,{onClick:()=>h(!0),className:"gap-2",children:["Xarid qilish",a.jsx(o.Z,{className:"w-4 h-4"})]})]})]})]}),a.jsx(T,{course:e,isOpen:x,onClose:()=>h(!1)}),a.jsx(D,{isOpen:u,onClose:()=>p(!1),courseTitle:f,schedule:{IELTS:[{day:"Dushanba",time:"19:00 - 21:00"},{day:"Chorshanba",time:"19:00 - 21:00"},{day:"Juma",time:"19:00 - 21:00"}],"General English":[{day:"Seshanba",time:"18:00 - 20:00"},{day:"Payshanba",time:"18:00 - 20:00"}],"Speaking Club":[{day:"Shanba",time:"16:00 - 18:00"}],"Business English":[{day:"Dushanba",time:"20:00 - 22:00"},{day:"Juma",time:"20:00 - 22:00"}],"Kids English":[{day:"Seshanba",time:"16:00 - 17:30"},{day:"Payshanba",time:"16:00 - 17:30"},{day:"Shanba",time:"14:00 - 15:30"}]}[e.category]||[]})]})}},1295:(e,t,s)=>{s.d(t,{pm:()=>x});var a=s(8964);let i=0,l=new Map,n=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},r=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],o={toasts:[]};function c(e){o=r(o,e),d.forEach(e=>{e(o)})}function m({...e}){let t=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function x(){let[e,t]=a.useState(o);return a.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}}};